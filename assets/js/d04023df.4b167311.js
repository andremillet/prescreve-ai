"use strict";(self.webpackChunktemp_docusaurus=self.webpackChunktemp_docusaurus||[]).push([[388],{3852:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"api/endpoints","title":"API Endpoints","description":"Documenta\xe7\xe3o dos endpoints da API do prescreve.ai","source":"@site/docs/api/endpoints.md","sourceDirName":"api","slug":"/api/endpoints","permalink":"/prescreve-ai/api/endpoints","draft":false,"unlisted":false,"editUrl":"https://github.com/andremillet/prescreve-ai/tree/main/docs/api/endpoints.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"API Endpoints","sidebar_position":1,"description":"Documenta\xe7\xe3o dos endpoints da API do prescreve.ai"},"sidebar":"tutorialSidebar","previous":{"title":"Arquitetura","permalink":"/prescreve-ai/intro/architecture"},"next":{"title":"Templates Personalizados","permalink":"/prescreve-ai/customization/templates"}}');var o=s(4848),r=s(8453);const a={title:"API Endpoints",sidebar_position:1,description:"Documenta\xe7\xe3o dos endpoints da API do prescreve.ai"},t="API Endpoints",d={},c=[{value:"Vis\xe3o Geral da API",id:"vis\xe3o-geral-da-api",level:2},{value:"Autentica\xe7\xe3o",id:"autentica\xe7\xe3o",level:2},{value:"Endpoints Principais",id:"endpoints-principais",level:2},{value:"Processamento de Comandos",id:"processamento-de-comandos",level:3},{value:"Gerenciamento de Pacientes",id:"gerenciamento-de-pacientes",level:3},{value:"Documentos",id:"documentos",level:3},{value:"Templates",id:"templates",level:3},{value:"Exemplos de Integra\xe7\xe3o",id:"exemplos-de-integra\xe7\xe3o",level:2},{value:"Python",id:"python",level:3},{value:"JavaScript",id:"javascript",level:3},{value:"Limites e Restri\xe7\xf5es",id:"limites-e-restri\xe7\xf5es",level:2},{value:"Webhooks",id:"webhooks",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"api-endpoints",children:"API Endpoints"})}),"\n",(0,o.jsx)(n.p,{children:"O prescreve.ai oferece uma API local para integra\xe7\xe3o com outros sistemas. Esta documenta\xe7\xe3o descreve os endpoints dispon\xedveis e como utiliz\xe1-los."}),"\n",(0,o.jsx)(n.h2,{id:"vis\xe3o-geral-da-api",children:"Vis\xe3o Geral da API"}),"\n",(0,o.jsx)(n.p,{children:"A API do prescreve.ai \xe9 acess\xedvel localmente na porta 3456:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"http://localhost:3456/api/v1\n"})}),"\n",(0,o.jsx)(n.p,{children:"Todos os endpoints retornam respostas em formato JSON."}),"\n",(0,o.jsx)(n.h2,{id:"autentica\xe7\xe3o",children:"Autentica\xe7\xe3o"}),"\n",(0,o.jsx)(n.p,{children:"Para acessar a API, voc\xea precisa gerar um token de API:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"No prescreve.ai, v\xe1 para Configura\xe7\xf5es \u2192 API"}),"\n",(0,o.jsx)(n.li,{children:'Clique em "Gerar Token de API"'}),"\n",(0,o.jsx)(n.li,{children:"Copie o token gerado"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Inclua o token em todas as requisi\xe7\xf5es no header:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Authorization: Bearer seu_token_aqui\n"})}),"\n",(0,o.jsx)(n.h2,{id:"endpoints-principais",children:"Endpoints Principais"}),"\n",(0,o.jsx)(n.h3,{id:"processamento-de-comandos",children:"Processamento de Comandos"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Endpoint:"})," ",(0,o.jsx)(n.code,{children:"POST /api/v1/process"})]}),"\n",(0,o.jsx)(n.p,{children:"Processa um comando como se fosse digitado na interface do usu\xe1rio."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Request:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "command": "prescrever amoxicilina 500mg 8/8h por 7 dias para infec\xe7\xe3o",\n  "patientId": "12345"\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Response:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "id": "cmd_123456",\n  "type": "prescription",\n  "status": "success",\n  "result": {\n    "medication": "amoxicilina",\n    "dosage": "500mg",\n    "frequency": "8/8h",\n    "duration": "por 7 dias",\n    "indication": "infec\xe7\xe3o",\n    "createdAt": "2025-05-17T14:30:00Z"\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"gerenciamento-de-pacientes",children:"Gerenciamento de Pacientes"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Endpoint:"})," ",(0,o.jsx)(n.code,{children:"GET /api/v1/patients"})]}),"\n",(0,o.jsx)(n.p,{children:"Retorna a lista de pacientes cadastrados."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Response:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "patients": [\n    {\n      "id": "12345",\n      "name": "Maria Silva",\n      "age": 42,\n      "createdAt": "2025-01-10T10:00:00Z",\n      "lastVisit": "2025-05-15T14:30:00Z"\n    },\n    {\n      "id": "12346",\n      "name": "Jo\xe3o Santos",\n      "age": 65,\n      "createdAt": "2025-02-20T09:15:00Z",\n      "lastVisit": "2025-04-30T16:45:00Z"\n    }\n  ]\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Endpoint:"})," ",(0,o.jsx)(n.code,{children:"GET /api/v1/patients/{id}"})]}),"\n",(0,o.jsx)(n.p,{children:"Retorna detalhes de um paciente espec\xedfico."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Endpoint:"})," ",(0,o.jsx)(n.code,{children:"POST /api/v1/patients"})]}),"\n",(0,o.jsx)(n.p,{children:"Cria um novo paciente."}),"\n",(0,o.jsx)(n.h3,{id:"documentos",children:"Documentos"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Endpoint:"})," ",(0,o.jsx)(n.code,{children:"GET /api/v1/documents"})]}),"\n",(0,o.jsx)(n.p,{children:"Retorna a lista de documentos gerados (prescri\xe7\xf5es, exames, encaminhamentos)."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Endpoint:"})," ",(0,o.jsx)(n.code,{children:"GET /api/v1/documents/{id}"})]}),"\n",(0,o.jsx)(n.p,{children:"Retorna detalhes de um documento espec\xedfico."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Endpoint:"})," ",(0,o.jsx)(n.code,{children:"GET /api/v1/documents/{id}/pdf"})]}),"\n",(0,o.jsx)(n.p,{children:"Gera e retorna o PDF de um documento."}),"\n",(0,o.jsx)(n.h3,{id:"templates",children:"Templates"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Endpoint:"})," ",(0,o.jsx)(n.code,{children:"GET /api/v1/templates"})]}),"\n",(0,o.jsx)(n.p,{children:"Retorna a lista de templates dispon\xedveis."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Endpoint:"})," ",(0,o.jsx)(n.code,{children:"POST /api/v1/templates"})]}),"\n",(0,o.jsx)(n.p,{children:"Cria um novo template."}),"\n",(0,o.jsx)(n.h2,{id:"exemplos-de-integra\xe7\xe3o",children:"Exemplos de Integra\xe7\xe3o"}),"\n",(0,o.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'import requests\nimport json\n\nAPI_URL = "http://localhost:3456/api/v1"\nAPI_KEY = "seu_token_aqui"\n\nheaders = {\n    "Authorization": f"Bearer {API_KEY}",\n    "Content-Type": "application/json"\n}\n\n# Processar um comando\nresponse = requests.post(\n    f"{API_URL}/process",\n    headers=headers,\n    data=json.dumps({\n        "command": "prescrever paracetamol 500mg 6/6h para febre",\n        "patientId": "12345"\n    })\n)\n\nprint(response.json())\n'})}),"\n",(0,o.jsx)(n.h3,{id:"javascript",children:"JavaScript"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"const apiUrl = 'http://localhost:3456/api/v1';\nconst apiKey = 'seu_token_aqui';\n\nasync function processCommand(command, patientId) {\n  const response = await fetch(`${apiUrl}/process`, {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${apiKey}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      command,\n      patientId\n    })\n  });\n  \n  return await response.json();\n}\n\n// Exemplo de uso\nprocessCommand('solicitar hemograma completo para anemia', '12345')\n  .then(result => console.log(result))\n  .catch(error => console.error(error));\n"})}),"\n",(0,o.jsx)(n.h2,{id:"limites-e-restri\xe7\xf5es",children:"Limites e Restri\xe7\xf5es"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"M\xe1ximo de 100 requisi\xe7\xf5es por minuto"}),"\n",(0,o.jsx)(n.li,{children:"Tamanho m\xe1ximo do corpo da requisi\xe7\xe3o: 100KB"}),"\n",(0,o.jsx)(n.li,{children:"A API est\xe1 dispon\xedvel apenas localmente por padr\xe3o"}),"\n",(0,o.jsx)(n.li,{children:"Para acesso remoto, configure em Configura\xe7\xf5es \u2192 API \u2192 Acesso Remoto"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"webhooks",children:"Webhooks"}),"\n",(0,o.jsx)(n.p,{children:"Configure webhooks para notifica\xe7\xf5es em tempo real:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"V\xe1 para Configura\xe7\xf5es \u2192 API \u2192 Webhooks"}),"\n",(0,o.jsx)(n.li,{children:"Adicione uma URL para receber notifica\xe7\xf5es"}),"\n",(0,o.jsx)(n.li,{children:"Selecione os eventos de interesse (nova prescri\xe7\xe3o, novo exame, etc.)"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Formato dos eventos:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "event": "prescription.created",\n  "timestamp": "2025-05-17T14:30:00Z",\n  "data": {\n    "id": "cmd_123456",\n    "patientId": "12345",\n    "medication": "amoxicilina",\n    "dosage": "500mg"\n  }\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>t});var i=s(6540);const o={},r=i.createContext(o);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);